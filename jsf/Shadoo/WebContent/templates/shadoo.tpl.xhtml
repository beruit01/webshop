<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
    
    <h:head>
    
    	<title>Shadoo - Share your knowledge!</title>

		<meta charset="utf-8"/>
		<meta http-equiv="Content-Language" content="de" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1, user-scalable=no"/>

		<!-- styles -->		
		<link rel="stylesheet" type="text/css" href="/Shadoo/resources/bower_components/bootstrap/dist/css/bootstrap.min.css"/>
		<link rel="stylesheet" type="text/css" href="/Shadoo/resources/bower_components/fontawesome/css/font-awesome.min.css"/>
		<h:outputStylesheet library="css" name="style.css"/>
		
		<!-- scripts -->
		<script src="/Shadoo/resources/bower_components/jquery/dist/jquery.min.js"></script>
		<script src="/Shadoo/resources/bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
		<script src="resources/jQueryPlugins/jquery.raty.js"></script>	
    
    </h:head>
	<h:body>
	
		
		<ui:include src="navi.tpl.xhtml"/>
		
		
		<!-- content -->
		<h:panelGroup styleClass="wrapper" id="sdContentArea">
		
			<ui:insert name="content"/>
		
		</h:panelGroup>
		
		<ui:include src="footer.tpl.xhtml"/>
	
	
		<script>
		
			var scrolled = false;
			var delay = 0;
			
			function triggerIntroMove(event) {
				'use strict';
				
				var $introHeart = $('.intro-heart');
				
				if( $introHeart.length ) {
					console.log('hide intro');
					scrolled = true;
				
					event.preventDefault();
					
					$('.intro-heart').addClass('move');
					
				}
				
			}
			
			window.onscroll = function(event) {
				
				if(!scrolled) {
				
					delay++;
					
					if( delay >= 10) {
						triggerIntroMove(event);
					}
					
				}
				
			};
			
		
			$('a[href^="#"]').on('click', function(event) {

			    var target = $( $(this).attr('href') );
			    
			 	// hide intro
			    if($(this).attr('href') === '#content') {
			    	
			    	event.preventDefault();
			    	
			    	$('.intro-heart').addClass('move');
			    	
			    }
			 
			 	// scroll down
			    else if( target.length ) {
			        event.preventDefault();
			        $('html, body').animate({
			            scrollTop: target.offset().top
			        }, 1000);
			    }
			    
			 	// scroll up
			    else if($(this).attr('href') === '#') {
			    	event.preventDefault();
			        $('html, body').animate({
			            scrollTop: 0
			        }, 1000);
			    }
			    
			    
			});
		</script>
		
	</h:body>
</html>
