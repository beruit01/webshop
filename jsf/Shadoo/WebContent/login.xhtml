<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
      
      <ui:composition template="templates/shadoo.tpl.xhtml">
      	<ui:define name="content">
      		
				<div class="wrapperLogin">
					
		
					
					
					
					
					<!-- 
					<div class="anmeldung">
						<h1>Anmeldung</h1>
				  
						<input class="form-control" type="text" value="" placeholder="Benutzername" id="anm_email"/>
						<input class="form-control" type="password" placeholder="Passwort" value="" id="anm_pw"/>
						<input type="button" class="btn btn-primary" value="Login" id="anm_button"/>
						<span id="login_failed"></span>
					</div>
					-->
				
					
					
					
					<h:form>
					
						<div class="anmeldung">
							
							<h1>Anmeldung</h1>
					  
							<h:inputText class="form-control" type="text" value="#{login.login}" placeholder="Benutzername" id="anm_username" />
							<h:inputSecret class="form-control" type="password" value="#{login.password}" placeholder="Passwort" id="anm_pw"/>
							
							<!-- <h:message for="anm_pw" id="anm_msg" style="color:#c0392b"/> -->
							<h:outputText style="color:#c0392b" value="#{loginUIController.loginError}"/>
							
							<h:commandButton class="btn btn-default" value="Login" id="anm_button" action="#{loginUIController.checkPw}"/>
							
						</div>
					
					</h:form>
					
					
					
					
					<h:form>
					
						<div class="registrierung">
							<h1>Registrierung</h1>
					  		
							<h:form id="passwordForm">
								
								<div class="form-group">
									<div class="col-lg-12">
										<h:inputText class="form-control" required="true" name="email" type="email" value="#{userBean.email}" placeholder="E-Mail" id="reg_email" validatorMessage="Die eingegebene E-Mail Adresse ist nicht gültig!">
											<f:validateRegex pattern="^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$"/>
											<f:ajax execute="@this" render="reg_email_msg" event="keyup" />
										</h:inputText>
										<h:message for="reg_email" id="reg_email_msg" style="color:#c0392b"/>
									</div>
									
									<div class="col-lg-12">
										<h:inputText type="text" class="form-control" name="username" value="#{userBean.userName}" placeholder="Benutzername" id="reg_user" validatorMessage="Der eingegebene Benutzername muss zwischen 6 und 30 Zeichen haben!">
											<f:validateLength minimum="6" maximum="30"/>
											<f:ajax execute="@this" render="reg_username_msg" event="keyup" />
										</h:inputText>
										<h:message for="reg_user" id="reg_username_msg" style="color:#c0392b"/>
									</div>
								</div>
								
								<div class="form-group">
									<div class="col-lg-12">
										<h:inputSecret type="password" class="form-control" name="password" value="#{userBean.password}" placeholder="Passwort" id="reg_pw" validatorMessage="Das eingegebene Passwort muss mindestens 6 Zeichen haben!">
											<f:validateLength minimum="6"/>
											<f:ajax execute="@this" render="reg_pw_msg" event="keyup" />
										</h:inputSecret>
										<h:message for="reg_pw" id="reg_pw_msg" style="color:#c0392b"/>
									</div>
									
									<div class="col-lg-12">
										<h:inputSecret type="password" class="form-control" name="confirmPassword" value="#{userBean.passwordConfirm}" placeholder="Passwort bestätigen" id="reg_conf_pw" validatorMessage="Das eingegebene Passwort muss mindestens 6 Zeichen haben!">
											<f:validateLength minimum="6"/>
											<f:ajax execute="@this" render="reg_conf_pw_msg" event="keyup" />
										</h:inputSecret>
										<h:message for="reg_conf_pw" id="reg_conf_pw_msg" style="color:#c0392b"/>
									</div>
								</div>
					
								<div class="form-group">
									<div class="col-lg-12">
										<h:form>
											<h:commandButton class="btn btn-default" action="#{loginUIController.registerUser}" value="Registrieren" id="reg_button"/>
										</h:form>
									</div>
								</div>
							
							</h:form>
							
							<!-- <h:outputText value="#{facesContext.validationFailed}"></h:outputText> gibt validation status zurück -->
				
							
							<span id="reg_failed"></span>
							
							
						</div>
					
					</h:form>
					
					
					
					
					
			
					
				</div>
				
				

      	</ui:define>
      </ui:composition>
      
</html>