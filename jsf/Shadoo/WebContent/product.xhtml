<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets">


<ui:composition template="templates/shadoo.tpl.xhtml">
	<ui:define name="content">

		<h:panelGroup styleClass="sd-item-product" rendered="#{listControllerBean.existsProduct(param['id'])}">

			<div class="sd-product-background">
				<div class="sd-product-container clearfix">
					<div class="sd-product-info-container clearfix">
						<div class="sd-pic-container sd-product-pic-container ">

							<div class="sd-media-type">
								<h:outputText escape="false"
									value="#{listControllerBean.getCurProductMediaType(listControllerBean.getProductsById(param['id']))}"></h:outputText>
							</div>


							<div class="sd-product-pic">
								<h:graphicImage class="sd-picImg sd-product-pic-size"
									value="#{listControllerBean.getProductsById(param['id']).imageUrl}" />
								<h:graphicImage class="sd-picBorder sd-product-pic-border "
									value="resources/images/picBorder.svg" />
							</div>
						</div>
						<div class="sd-product-info ">
							<div class="sd-product-title">
								<span> <h:outputText
										value="#{listControllerBean.getProductsById(param['id']).productName}" />
								</span>
							</div>
							<div class="sd-product-author">
								<h:outputText
									value="von #{listControllerBean.getProductsById(param['id']).author.userName}" />
							</div>
							<div class="sd-product-date">
								<h:outputText
									value="am #{listControllerBean.getProductsById(param['id']).getFormatDate()}" />
							</div>
							<div class="sd-product-category">
								<h:outputText
									value="in #{listControllerBean.getProductsById(param['id']).category}" />
							</div>

						</div>

						<div class="sd-product-detail">
							<div class="sd-product-rating-container">


								<!-- Rating -->
								<div class="sd-product-rating clearfix">

									<h:outputText escape="false"
										value="#{ratingBean.getCurProductRating(listControllerBean.getProductsById(param['id']))}"></h:outputText>

									<!-- 
										<div class="heart10"></div>
										<div class="heart10"></div>
										<div class="heart10"></div>
										<div class="heart05"></div>
										<div class="heart00"></div>
										-->
								</div>

								<div class="sd-rating-amount">
									<h:outputText
										value="#{listControllerBean.getProductsById(param['id']).ratingamount} Bewertungen"></h:outputText>
								</div>
							</div>
							<div class="sd-product-tag-container clearfix">
								<div class="sd-product-tag">
									<h:outputText value="Foto"></h:outputText>
								</div>
								<div class="sd-product-tag">
									<h:outputText value="Dia"></h:outputText>
								</div>
								<div class="sd-product-tag">
									<h:outputText value="Modern"></h:outputText>
								</div>
							</div>


							<!-- Buttons  -->
							<div class="sd-product-button-container clearfix" align="center">

								<div align="center">

									<h:form>
										<h:commandButton
											class="sd-product-button sd-product-button-take"
											value="Nehmen" immediate="true"
											action="#{controller.addToHeartbox()}">
											<f:param name="id" value="#{param['id']}" />
										</h:commandButton>

									</h:form>
								</div>

								<div align="center">
									<h:form>
										<h:commandButton
											class="sd-product-button sd-product-button-rate"
											value="Bewerten" action="#{ratingBean.initializeRating()}">
											<f:param name="id" value="#{param['id']}" />
										</h:commandButton>
									</h:form>
								</div>
							</div>


						</div>

					</div>


					<div class="clearfix"></div>
				</div>

				<div class="sd-product-description-container">
					<h:outputText class="sd-product-description"
						value="#{listControllerBean.getProductsById(param['id']).description}"></h:outputText>
				</div>

				<div class="sd-product-embedded-container">
					<h:outputText
						value="#{listControllerBean.getProductsById(param['id']).embeddedcode}"
						escape="false" />
				</div>


			</div>


			<div class="sd-product-background sd-product-author-detail">
				<!-- Author -->

				<div class="sd-product-author-title-container clearfix">
					<h:outputText value="#{listControllerBean.getProductsById(param['id']).author.userName}" class="sd-product-author-title"></h:outputText>
				</div>
				<div class="sd-pic-container">
					<div class="sd-pic">
						<h:graphicImage class="sd-picImg"
							value="#{listControllerBean.getProductsById(param['id']).author.imageUrl}" />
						<h:graphicImage class="sd-picBorder"
							value="resources/images/picBorder.svg" />
					</div>


				</div>


				<div class="sd-product-author-info">
					<div class="clearfix">
						<div class="sd-rating  sd-product-author-rating-hearts">

							<h:outputText escape="false"
								value="#{ratingBean.getCurAuthorRating(listControllerBean.getProductsById(param['id']).author,1)}"></h:outputText>

							<!--  
								<div class="heart10"></div>
								<div class="heart10"></div>
								<div class="heart10"></div>
								<div class="heart05"></div>
								<div class="heart00"></div>
								-->
						</div>
						<h:outputText value="Rhetorik"
							class="sd-product-author-rating-text"></h:outputText>
					</div>
					<div class="clearfix">
						<div class="sd-rating  sd-product-author-rating-hearts">

							<h:outputText escape="false"
								value="#{ratingBean.getCurAuthorRating(listControllerBean.getProductsById(param['id']).author,2)}"></h:outputText>
							<!--
								<div class="heart10"></div>
								<div class="heart10"></div>
								<div class="heart10"></div>
								<div class="heart05"></div>
								<div class="heart00"></div>
								-->
						</div>
						<h:outputText value="Materialien"
							class="sd-product-author-rating-text"></h:outputText>
					</div>
					<div class="clearfix">
						<div class="sd-rating  sd-product-author-rating-hearts">

							<h:outputText escape="false"
								value="#{ratingBean.getCurAuthorRating(listControllerBean.getProductsById(param['id']).author,3)}"></h:outputText>
							<!-- 
								<div class="heart10"></div>
								<div class="heart10"></div>
								<div class="heart10"></div>
								<div class="heart05"></div>
								<div class="heart00"></div>
								-->
						</div>
						<h:outputText value="Fachwissen"
							class="sd-product-author-rating-text"></h:outputText>
					</div>
					<div class="clearfix">
						<div class="sd-rating  sd-product-author-rating-hearts">

							<h:outputText escape="false"
								value="#{ratingBean.getCurAuthorRating(listControllerBean.getProductsById(param['id']).author,4)}"></h:outputText>
							<!--
								<div class="heart10"></div>
								<div class="heart10"></div>
								<div class="heart10"></div>
								<div class="heart05"></div>
								<div class="heart00"></div>
							 	-->
						</div>
						<h:outputText value="Engagement"
							class="sd-product-author-rating-text"></h:outputText>
					</div>


				</div>

				<!--Author rating -->
				<div class="sd-product-author-rating"></div>
				<div class="clearfix"></div>
			</div>
		</h:panelGroup>


		<h:panelGroup rendered="#{listControllerBean.existsProduct(param['id']) == false}">
			<h:form>
				<h1>Sorry, ein Produkt mit der ID <h:outputText value="#{param['id']}"/> existiert nicht!</h1>
				<h3>Nutze unsere <h:commandLink value="Suche" action="search"/> um einen passenden Artikel f√ºr Dich zu finden.</h3>
			</h:form>
		</h:panelGroup>

	</ui:define>
</ui:composition>

</html>