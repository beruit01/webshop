<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
      
      
      <ui:composition template="templates/shadoo.tpl.xhtml">
      	<ui:define name="content">
      		
			<h1>Deine Heartbox.</h1>
			<h3>Alles was Dich interessiert. An einem Ort.</h3>
			<br />
			
			<!-- heartbox items -->
			<h:form id="heartboxForm">
				<h:panelGroup id="heartboxItems">
					<ui:repeat var="current" value="#{heartbox.items}">
	
						<a href="product.xhtml?id=#{current.id}" class="sd-item">
							
							<h:commandButton action="#{heartbox.removeItem(current.productName)}"
								title="Entferne diesen Artikel aus Deiner Heartbox." styleClass="sd-remove">
								<f:ajax execute="@form" render="@form :naviForm :mobileNaviForm :mobileSubNaviForm" />
							</h:commandButton>
							
							<div class="sd-pic">
								<h:graphicImage class="sd-picImg" value="#{current.imageUrl}" />
								<h:graphicImage class="sd-picBorder"
									value="resources/images/picBorder.svg" />
							</div>
							
							<div class="sd-rating clearfix">
								<h:outputText escape="false" value="#{ratingBean.getCurProductRating(current)}"></h:outputText>
								<!--
								<div class="heart10"></div>
								<div class="heart10"></div>
								<div class="heart10"></div>
								<div class="heart05"></div>
								<div class="heart00"></div>
								-->
							</div>
							
							<div class="sd-title">
								<h:outputText value="#{current.productName}" />
							</div>
							
						</a>
			
					</ui:repeat>
					
					
					
					<!-- no items found message -->
					<h:panelGroup rendered="#{heartbox.isEmpty() == true}">
					    <div class="noSearchResult">
					    	
					    	<h2>Du hast noch keine Artikel in deiner Heartbox.</h2>
					    						    	
					    	<h3>
					    		Das kannst Du ändern. Stöber doch mal durch unseren 
						    	<h:commandLink action="subject_areas">Themenbereich</h:commandLink>.
						    	Dort könnte etwas Passendes für Dich dabei sein.
					    	</h3>
					    	
					    </div>
					</h:panelGroup>
					
				</h:panelGroup>
		
				<!-- clearfix -->
				<div style="clear:both"></div>
				
			</h:form>
			
			
			
      		
      	</ui:define>
      </ui:composition>
      
</html>