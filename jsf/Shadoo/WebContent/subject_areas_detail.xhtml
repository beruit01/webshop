<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core"
      xmlns:ui="http://java.sun.com/jsf/facelets">
      
      
      <ui:composition template="templates/shadoo.tpl.xhtml">
      	<ui:define name="content">
      		
			<div class="text-wrapper">
			
				<h1><h:outputText value="#{param['s']}"/></h1>
				<h3>Wähle einen der Artikel aus dem Themenbereich aus.</h3>
				
			</div>	
				
				
			<h:panelGroup id="sortedPreviewItems">
	
				<h:form>
					<ui:repeat var="current" value="#{listControllerBean.getProductsBySubject(param['s'])}">
				
						<a href="product.xhtml?id=#{current.id}" class="sd-item">
							<div class="sd-pic">
								<h:graphicImage class="sd-picImg" value="#{current.imageUrl}" />
								<h:graphicImage class="sd-picBorder"
									value="resources/images/picBorder.svg" />
							</div>
							<div class="sd-rating clearfix">
								<h:outputText escape="false" value="#{ratingBean.getCurProductRating(current)}"></h:outputText>
							</div>
							<div class="sd-title">
								<h:outputText value="#{current.productName}" />
							</div>
						</a>
			
					</ui:repeat>
				</h:form>
			</h:panelGroup>
			
			
			
			<!-- no items found message -->
			<h:panelGroup rendered="#{listControllerBean.foundProductsBySubject(param['s']) != true}">
			    <div class="noSearchResult">
			    	<br/><br/>
			    	<h1>Sorry, derzeit gibt es noch keine Angebote in diesem Themenbereich.</h1>
			    	<h3>Gehe <a href="subject_areas.xhtml">zurück zu den anderen Themen</a>.</h3>
			    	
			    </div>
			</h:panelGroup>
			
			
      		
      	</ui:define>
      </ui:composition>
      
</html>